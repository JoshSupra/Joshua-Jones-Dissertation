# Global parameters
global:
  periods: 48                     # Number of half-hour periods in the day
  period_seconds: 1800            # 30 min per period
  tokens_per_job: 400            # Tokens per inference job
  total_daily_jobs: 190_000_000       # Total jobs in the horizon
  min_share: 0                  # Minimum share of demand per tier (0 disables constraint)

# Demand shape (normalized to sum to 1, length = periods)
demand_shape: 
 [
    0.20, 0.18, 0.17, 0.17, 0.18, 0.20,  # 00:00–02:30 (low overnight)
    0.23, 0.28, 0.35, 0.42, 0.50, 0.58,  # 03:00–05:30 (morning ramp-up)
    0.65, 0.72, 0.78, 0.83, 0.88, 0.93,  # 06:00–08:30 (day ramp-up)
    0.97, 1.00, 0.98, 0.95, 0.92, 0.88,  # 09:00–11:30 (peak midday)
    0.85, 0.83, 0.85, 0.88, 0.93, 0.97,  # 12:00–14:30 (afternoon rebound)
    1.00, 0.96, 0.91, 0.85, 0.78, 0.70,  # 15:00–17:30 (early evening)
    0.62, 0.55, 0.48, 0.40, 0.33, 0.28,  # 18:00–20:30 (decline)
    0.24, 0.22, 0.21, 0.20, 0.19, 0.18   # 21:00–23:30 (late night low)
]


tiers:
  DC:
    throughput: 12000              # tokens/sec
    parallel_units: 52
    utilization: 0.8
    power_draw: 1              # kWh per job (after PUE adjustments)
    embodied_carbon: .27       # kg CO₂ per job amortized
    carbon_intensity: [0.095, 0.105, 0.128, 0.146, 0.14, 0.133, 0.14, 0.13, 0.142, 0.138, 0.135, 0.122, 0.115, 0.122, 0.12, 0.118, 0.099, 0.084, 0.086, 0.092, 0.092, 0.095, 0.102, 0.103, 0.094, 0.092, 0.086, 0.091, 0.092, 0.094, 0.103, 0.108, 0.105, 0.109, 0.115, 0.12, 0.136, 0.152, 0.15, 0.154, 0.124, 0.12, 0.114, 0.111, 0.113, 0.108, 0.097, 0.101]         # gCO₂/kWh
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    grid_fraction: [0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15]     # List of fractions per period (use [value] * periods)
    idle_power_kw: .140
    tokens_per_job: 400
    PUE: 1.1
    SPUE: 1.2

  SDC_1:
    throughput: 3000
    parallel_units: 92
    utilization: 0.6
    power_draw: 0.7
    embodied_carbon: 0.0205
    carbon_intensity: [0.022, 0.022, 0.021, 0.022, 0.021, 0.021, 0.021, 0.022, 0.023, 0.023, 0.022, 0.022, 0.023, 0.023, 0.022, 0.022, 0.021, 0.02, 0.019, 0.019, 0.019, 0.018, 0.019, 0.019, 0.018, 0.018, 0.018, 0.019, 0.02, 0.02, 0.021, 0.022, 0.023, 0.023, 0.024, 0.024, 0.023, 0.024, 0.024, 0.024, 0.024, 0.023, 0.022, 0.021, 0.02, 0.019, 0.019, 0.021] 
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .045
    tokens_per_job: 400
    PUE: 1.5
    SPUE: 1.2

  SDC_2:
    throughput: 3000
    parallel_units: 92
    utilization: 0.6
    power_draw: 0.7
    embodied_carbon: 0.0205
    carbon_intensity: [0.353, 0.317, 0.318, 0.307, 0.293, 0.293, 0.268, 0.268, 0.253, 0.233, 0.247, 0.28, 0.293, 0.327, 0.326, 0.326, 0.305, 0.286, 0.209, 0.196, 0.19, 0.178, 0.159, 0.148, 0.132, 0.139, 0.137, 0.137, 0.142, 0.15, 0.153, 0.163, 0.174, 0.186, 0.255, 0.298, 0.315, 0.332, 0.345, 0.355, 0.363, 0.367, 0.366, 0.368, 0.369, 0.368, 0.368, 0.361] 
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .045
    tokens_per_job: 400
    PUE: 1.5
    SPUE: 1.2

  SDC_3:
    throughput: 3000
    parallel_units: 92
    utilization: 0.6
    power_draw: 0.7
    embodied_carbon: 0.0205
    carbon_intensity: [0.092, 0.1, 0.12, 0.13, 0.127, 0.125, 0.134, 0.129, 0.14, 0.137, 0.135, 0.122, 0.118, 0.124, 0.125, 0.117, 0.095, 0.083, 0.086, 0.093, 0.095, 0.095, 0.102, 0.102, 0.097, 0.095, 0.091, 0.094, 0.097, 0.097, 0.103, 0.106, 0.103, 0.108, 0.121, 0.134, 0.149, 0.161, 0.162, 0.169, 0.16, 0.156, 0.148, 0.138, 0.133, 0.12, 0.112, 0.113] 
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .045
    tokens_per_job: 400
    PUE: 1.5
    SPUE: 1.2

  EDGE_ZONE1:
    throughput: 5
    parallel_units: 33333
    utilization: 1.0
    power_draw: 0.04
    embodied_carbon: 0.001
    carbon_intensity: [0.022, 0.022, 0.021, 0.022, 0.021, 0.021, 0.021, 0.022, 0.023, 0.023, 0.022, 0.022, 0.023, 0.023, 0.022, 0.022, 0.021, 0.02, 0.019, 0.019, 0.019, 0.018, 0.019, 0.019, 0.018, 0.018, 0.018, 0.019, 0.02, 0.02, 0.021, 0.022, 0.023, 0.023, 0.024, 0.024, 0.023, 0.024, 0.024, 0.024, 0.024, 0.023, 0.022, 0.021, 0.02, 0.019, 0.019, 0.021] 
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .001
    tokens_per_job: 400
    PUE: 1
    SPUE: 1
    
  EDGE_ZONE2:
    throughput: 5
    parallel_units: 33333
    utilization: 1.0
    power_draw: 0.04
    embodied_carbon: 0.001
    carbon_intensity:  [0.353, 0.317, 0.318, 0.307, 0.293, 0.293, 0.268, 0.268, 0.253, 0.233, 0.247, 0.28, 0.293, 0.327, 0.326, 0.326, 0.305, 0.286, 0.209, 0.196, 0.19, 0.178, 0.159, 0.148, 0.132, 0.139, 0.137, 0.137, 0.142, 0.15, 0.153, 0.163, 0.174, 0.186, 0.255, 0.298, 0.315, 0.332, 0.345, 0.355, 0.363, 0.367, 0.366, 0.368, 0.369, 0.368, 0.368, 0.361]   
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .001
    tokens_per_job: 400
    PUE: 1
    SPUE: 1
    
  EDGE_ZONE3:
    throughput: 5
    parallel_units: 33333
    utilization: 1.0
    power_draw: 0.04
    embodied_carbon: 0.001
    carbon_intensity:  [0.092, 0.1, 0.12, 0.13, 0.127, 0.125, 0.134, 0.129, 0.14, 0.137, 0.135, 0.122, 0.118, 0.124, 0.125, 0.117, 0.095, 0.083, 0.086, 0.093, 0.095, 0.095, 0.102, 0.102, 0.097, 0.095, 0.091, 0.094, 0.097, 0.097, 0.103, 0.106, 0.103, 0.108, 0.121, 0.134, 0.149, 0.161, 0.162, 0.169, 0.16, 0.156, 0.148, 0.138, 0.133, 0.12, 0.112, 0.113]  
    grid_fraction: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    local_carbon_intensity: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    idle_power_kw: .001
    tokens_per_job: 400
    PUE: 1
    SPUE: 1